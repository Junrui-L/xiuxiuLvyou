{"version":3,"sources":["webpack:///src/components/switchOption.vue","webpack:///./src/components/switchOption.vue?c786","webpack:///./src/components/switchOption.vue","webpack:///src/pages/order/OrderDetail.vue","webpack:///./src/pages/order/OrderDetail.vue?ffbf","webpack:///./src/pages/order/OrderDetail.vue"],"names":["switchOption","String","value","newValue","checked","components_switchOption","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","name","class","active","on","click","clickSwitch","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","OrderDetail","guideId","playId","SwitchOption","computed","extends_default","Object","vuex_esm","mpPackagePrice","mpPackagecount","res","datajs","selectCountHandle","cancelHandle","initHeOrder","methods","show","_this","guide","id","mpPackelist","nickname","mobile","visitor","mpdata","selectmpHandle","_this2","getDate","godate","accountId","tripsnum","packageid","mpPackage","mpPackageId","istuan","source","tipmount","linkman","linkPhone","requiretxt","yhjId","then","self","msg","order_OrderDetail","attrs","src","guideInfo","userImg","alt","play","username","scenicspot","wfname","servicetype","_e","tytype","baseOrder","travalDate","txt","peopleNum","pricePackage","price","update:value","onGroup","_m","showmpPackgePicker","mpPackageName","xmlns:xlink","xlink:href","showmpPackagecount","directives","rawName","expression","maxlength","placeholder","domProps","input","$event","target","composing","total","newOrder"],"mappings":"sDASA,IACAA,QADA,kCAOAC,cAEA,0CAIAC,6DAIAC,wDAKAC,WC5BAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,QAAaE,YAAA,SAAmBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,SAAAT,EAAAO,GAAA,KAAAH,EAAA,OAAmDE,YAAA,iBAAAI,OAAoCC,OAAAX,EAAAH,SAAsBe,IAAKC,MAAAb,EAAAc,eAAyBV,EAAA,QAAaE,YAAA,gBAAAI,OAAmCC,OAAAX,EAAAH,gBAEhVkB,oBCYjBC,EAdAC,EAAA,OAcAC,CACAzB,EACAK,GATA,EAEA,KAEA,KAEA,MAUAqB,EAAA,EAAAH,EAAA,yJC+GAI,iCAIA,+BACAC,iCACAC,gBACA,2BAEA,0BAEA,kBACA,iBAEA,mBACA,UACA,SACA,WACA,UACA,aACA,cACA,SAEA,iBAIAC,uBAAA,GACAC,SAAAC,OAAAC,OAAAC,EAAA,EAAAD,EACA,qDAEA,wHAIAE,6CAEA,oDAIAC,oCAEA,cAEA,0HACAA,iJACAA,kFAWA,sCAEAC,6CAGA,aACAC,EAAA,gBAGA,qBACAC,gCAKAC,oBACAC,eAEAC,QAAAV,OAAAC,OAAAC,EAAA,EAAAD,EACA,8DAEAU,4DAGA,2BAEA,IAAAC,EAAApC,sBACAqC,6CACA3C,6CACAA,6CAEA4C,qHAEA,sCACAT,8CAEA,iCACAA,kBACAU,gCACAC,+BACAC,wBACAC,2GAGAlC,8CAGA,aACAmC,cACAC,0BAEAZ,sEAKAG,oEAGA,uDACA,qCACA,wBAEA,IAAAU,EAAA7C,6DAGA,eACA,cACA,OACA,MACAmC,sDAGA,iBACA,cACA,OACA,MACAA,+CAGA,cACA,cACA,OACA,MACAA,iDAGA,gBACA,cACA,OACA,MACAA,kDAGA,aACA,cACA,OACA,MACAA,OAGAV,OAAAqB,EAAA,EAAArB,CAAAzB,KACA+C,OAAA/C,KACAgD,UAAAhD,KACAqB,OAAArB,KACAiD,SAAAjD,KACAkD,UAAAlD,KAAAmD,UACAC,YAAApD,KACA4B,eAAA5B,KACAqD,OAAArD,KACAsD,OAAAtD,KACAuD,SAAAvD,KACAwD,QAAAxD,KACAyD,UAAAzD,KACA0D,WAAA1D,KACA2D,OAAAC,KAAA,SAAA/B,OAEAgC,EAAAhB,cACAhB,eACA,4DAGA,cACA,iBACAiC,eACA,yBAKA3B,2DAUA,uCAWA,yDAKA,MCzVA4B,GADiBjE,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,UAAeE,YAAA,wBAAkCF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,OAAY6D,OAAOC,IAAAlE,EAAAmE,UAAAC,QAAAC,IAAA,QAAsCrE,EAAAO,GAAA,KAAAH,EAAA,MAAyBE,YAAA,oBAA8BF,EAAA,MAAWE,YAAA,eAAyBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAsE,KAAAC,aAAAvE,EAAAO,GAAA,KAAAH,EAAA,MAA2DE,YAAA,iBAA2BF,EAAA,QAAAJ,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAsE,KAAAE,eAAApE,EAAA,QAAAJ,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAsE,KAAAG,aAAAzE,EAAAO,GAAA,KAAAH,EAAA,MAAuHE,YAAA,eAAyB,GAAAN,EAAAsE,KAAAI,aAAA1E,EAAAO,GAAA,kCAAAP,EAAAsE,KAAAI,aAAA1E,EAAAO,GAAA,kCAAAP,EAAAsE,KAAAI,aAAA1E,EAAAO,GAAA,kCAAAP,EAAAsE,KAAAI,aAAA1E,EAAAO,GAAA,+BAAAP,EAAA2E,KAAA3E,EAAAO,GAAA,QAAAP,EAAAsE,KAAAM,QAAA5E,EAAAO,GAAA,oCAAAP,EAAAsE,KAAAM,QAAA5E,EAAAO,GAAA,sCAAAP,EAAAsE,KAAAM,QAAA5E,EAAAO,GAAA,iCAAAP,EAAA2E,MAAA,OAAA3E,EAAAO,GAAA,KAAAH,EAAA,OAA4gBE,YAAA,eAAyBF,EAAA,MAAWE,YAAA,UAAoBN,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAH,EAAA,MAAwCE,YAAA,eAAyBF,EAAA,MAAWE,YAAA,cAAwBN,EAAAO,GAAA,SAAAH,EAAA,QAA6BE,YAAA,OAAiBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAA6E,UAAAC,WAAAC,UAAA/E,EAAAO,GAAA,KAAAH,EAAA,MAAwEE,YAAA,cAAwBN,EAAAO,GAAA,SAAAH,EAAA,QAA6BE,YAAA,OAAiBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAA6E,UAAAG,UAAAD,UAAA/E,EAAAO,GAAA,KAAAH,EAAA,MAAuEE,YAAA,cAAwBN,EAAAO,GAAA,SAAAH,EAAA,QAA6BE,YAAA,OAAiBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAiF,aAAAxE,MAAA,IAAAT,EAAAQ,GAAAR,EAAAiF,aAAAC,OAAA,aAAAlF,EAAAO,GAAA,KAAAH,EAAA,OAA6GE,YAAA,eAAyBF,EAAA,iBAAsB6D,OAAOxD,KAAA,OAAAd,MAAA,GAAAK,EAAAsD,QAAqD1C,IAAKuE,eAAAnF,EAAAoF,YAA4B,GAAApF,EAAAO,GAAA,KAAAP,EAAAqF,GAAA,GAAArF,EAAAO,GAAA,KAAAH,EAAA,OAAkDE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,WAAAM,IAA2BC,MAAAb,EAAAsF,sBAAgCtF,EAAAO,GAAA,gBAAAH,EAAA,QAAoCE,YAAA,kBAA4BN,EAAAO,GAAA,aAAAP,EAAAQ,GAAA,IAAAR,EAAAoD,UAAAmC,cAAA,UAAAvF,EAAAoD,UAAAmC,eAAA,cAAAnF,EAAA,OAAAA,EAAA,OAA4I6D,OAAOuB,cAAA,+BAAAC,aAAA,wBAA0EzF,EAAAO,GAAA,KAAAH,EAAA,OAA8BE,YAAA,WAAAM,IAA2BC,MAAAb,EAAA0F,sBAAgC1F,EAAAO,GAAA,cAAAH,EAAA,QAAkCE,YAAA,mBAA6BN,EAAAO,GAAA,aAAAP,EAAAQ,GAAA,IAAAR,EAAA6B,eAAA,SAAA7B,EAAA6B,gBAAA,eAAAzB,EAAA,OAAAA,EAAA,OAA0H6D,OAAOuB,cAAA,+BAAAC,aAAA,0BAA0EzF,EAAAO,GAAA,KAAAP,EAAAqF,GAAA,GAAArF,EAAAO,GAAA,KAAAH,EAAA,MAAqDE,YAAA,YAAsBF,EAAA,MAAWE,YAAA,iBAA2BN,EAAAO,GAAA,uBAAAH,EAAA,QAA2CE,YAAA,mBAA6BN,EAAAO,GAAA,aAAAP,EAAAQ,GAAAR,EAAAyD,SAAA,gBAAArD,EAAA,OAAAA,EAAA,OAA8E6D,OAAOuB,cAAA,+BAAAC,aAAA,wBAA0EzF,EAAAO,GAAA,KAAAH,EAAA,MAA6BE,YAAA,kBAA4BN,EAAAO,GAAA,sBAAAH,EAAA,QAA0CE,YAAA,mBAA6BN,EAAAO,GAAA,aAAAP,EAAAQ,GAAAR,EAAA0D,WAAA,cAAAtD,EAAA,OAAAA,EAAA,OAA8E6D,OAAOuB,cAAA,+BAAAC,aAAA,0BAA0EzF,EAAAO,GAAA,KAAAH,EAAA,OAAgCE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,UAAoBN,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAH,EAAA,YAA4CuF,aAAalF,KAAA,QAAAmF,QAAA,UAAAjG,MAAAK,EAAA,WAAA6F,WAAA,eAA8EvF,YAAA,YAAA2D,OAAiC6B,UAAA,KAAAC,YAAA,MAAoCC,UAAWrG,MAAAK,EAAA,YAAyBY,IAAKqF,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCpG,EAAA2D,WAAAuC,EAAAC,OAAAxG,aAAqCK,EAAAO,GAAA,KAAAH,EAAA,OAA0BE,YAAA,YAAsBN,EAAAO,GAAA,aAAAH,EAAA,QAAiCE,YAAA,mBAA6BN,EAAAO,GAAA,+BAAAH,EAAA,OAAAA,EAAA,OAA4D6D,OAAOuB,cAAA,+BAAAC,aAAA,wBAA0EzF,EAAAO,GAAA,KAAAP,EAAAqF,GAAA,GAAArF,EAAAO,GAAA,KAAAH,EAAA,OAAoDE,YAAA,0BAAoCF,EAAA,OAAYE,YAAA,aAAuBN,EAAAO,GAAA,uBAAAH,EAAA,QAA2CE,YAAA,iBAA2BN,EAAAO,GAAA,aAAAP,EAAAQ,GAAAR,EAAAqG,OAAA,eAAAjG,EAAA,OAAAA,EAAA,OAA2E6D,OAAOuB,cAAA,+BAAAC,aAAA,wBAA0EzF,EAAAO,GAAA,KAAAH,EAAA,OAA8BE,YAAA,mBAA6BF,EAAA,UAAeE,YAAA,UAAAM,IAA0BC,MAAAb,EAAAsG,YAAsBtG,EAAAO,GAAA,mCAE5zIQ,iBADjB,WAAoC,IAAAf,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,wBAAkCF,EAAA,KAAAJ,EAAAO,GAAA,yBAAAP,EAAAO,GAAA,KAAAH,EAAA,KAAAJ,EAAAO,GAAA,wDAA4H,WAAc,IAAAP,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,yBAAmCF,EAAA,KAAAJ,EAAAO,GAAA,yBAAAP,EAAAO,GAAA,KAAAH,EAAA,KAAAJ,EAAAO,GAAA,wDAA4H,WAAc,IAAaL,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAhFL,KAAwGM,GAAA,wBAAAH,EAAA,QAAxGH,KAAwGM,GAAA,iBCaroBS,EAdAC,EAAA,OAcAC,CACAE,EACA4C,GATA,EAEA,KAEA,KAEA,MAUA7C,EAAA,QAAAH,EAAA","file":"static/js/8.a1a3c70e6269eaa35878.js","sourcesContent":["<template>\n  <div class=\"switch-option\">\n    <span class=\"name\">{{ name }}</span>\n    <div class=\"switch-ellipse\" :class=\"{ active: checked }\" @click=\"clickSwitch\">\n      <span class=\"switch-circle\" :class=\"{ active: checked }\"></span>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  const COMPONENT_NAME = 'switch-option'\n  export default {\n    name: COMPONENT_NAME,\n    props: {\n      name: {\n        type: String\n      },\n      value: null\n    },\n    data() {\n      return {\n        checked: this.value\n      }\n    },\n    watch: {\n      checked: function (newValue) {\n        this.$emit('update:value', newValue)\n      }\n    },\n    methods: {\n      clickSwitch: function () {\n        this.checked = !this.checked\n      }\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/switchOption.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"switch-option\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"switch-ellipse\",class:{ active: _vm.checked },on:{\"click\":_vm.clickSwitch}},[_c('span',{staticClass:\"switch-circle\",class:{ active: _vm.checked }})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-6e3253e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/switchOption.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./switchOption.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./switchOption.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e3253e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./switchOption.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/switchOption.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"order_detail\">\n    <header class=\"guide-info clearfix\">\n      <div class=\"guide-img fl\">\n        <img :src=\"guideInfo.userImg\" alt=\"\">\n      </div>\n      <dl class=\"guide-detail fl\">\n        <dt class=\"guide-name\">{{play.username}}</dt>\n        <dd class=\"guide-scenic\"><span>{{play.scenicspot}}</span><span>{{play.wfname}}</span></dd>\n        <dd class=\"guide-mode\">\n          <template v-if=\"play.servicetype == 1\">\n            景点详解\n          </template>\n          <template v-else-if=\"play.servicetype == 2\">\n            带游服务\n          </template>\n          <template v-else-if=\"play.servicetype == 3\">\n            当地游玩\n          </template>\n          <template v-else-if=\"play.servicetype == 4\">\n            专线类型\n          </template>\n          <template v-if=\"play.tytype == 0\">\n            (平分模式)\n          </template>\n          <template v-else-if=\"play.tytype == 1\">\n            (固定折扣模式)\n          </template>\n          <template v-else-if=\"play.tytype == 2\">\n            (剃分模式)\n          </template>\n          </dd>\n      </dl>\n    </header>\n    <div class=\"order-info\">\n      <h3 class=\"title\">订单信息</h3>\n      <ul class=\"order-list\">\n        <li class=\"info-item\">游玩时间 <span class=\"fr\">{{baseOrder.travalDate.txt}}</span></li>\n        <li class=\"info-item\">游玩人数 <span class=\"fr\">{{baseOrder.peopleNum.txt}}</span></li>\n        <li class=\"info-item\">价格套餐 <span class=\"fr\">{{pricePackage.name}}/{{pricePackage.price}}元</span></li>\n      </ul>\n    </div>\n    <div class=\"group-trip\">\n      <switch-option name=\"开启团游\" @update:value=\"onGroup\" :value=\"istuan == 0 ? false : true\"></switch-option>\n    </div>\n    <div class=\"notify group-notify\">\n      <p>导游优惠模式：固定折扣模式，7，8z折</p>\n      <p>注意：团游必须有2个订单才生效，价格由最终团游数决定。而差价会在旅行结束后退到您的个人账户中。</p>\n    </div>\n    <div class=\"tickets\">\n      <div class=\"tickit-m\" @click=\"showmpPackgePicker\">门票套餐\n        <span class=\"tickit-txt fr\" >\n          {{mpPackage.mpPackageName == '' ? '请选择门票套餐' : mpPackage.mpPackageName}}\n          <svg>\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n          </svg>\n        </span>\n      </div>\n      <div class=\"tickit-n\" @click=\"showmpPackagecount\">数量\n        <span class=\"tickit-txt  fr\">\n          {{mpPackagecount == '' ? '选择套餐数量' : mpPackagecount}}人\n          <svg>\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n          </svg>\n        </span>\n      </div>\n    </div>\n\n    <div class=\"notify tickit-notify\">\n      <p>导游优惠模式：固定折扣模式，7，8z折</p>\n      <p>注意：团游必须有2个订单才生效，价格由最终团游数决定。而差价会在旅行结束后退到您的个人账户中。</p>\n    </div>\n    <ul class=\"contact\">\n      <li class=\"contact-name\">\n        联系人\n        <span class=\"contact-txt fr\">\n          {{linkman}}\n            <svg>\n            <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n          </svg>\n        </span>\n      </li>\n      <li class=\"contact-phone\">\n        电话\n        <span class=\"contact-txt fr\">\n          {{linkPhone}}\n          <svg>\n            <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n          </svg>\n        </span>\n      </li>\n    </ul>\n    <div class=\"note-message\">\n      <div class=\"title\">备注</div>\n      <textarea class=\"note-text\" maxlength=\"60\" placeholder=\"备注\" v-model=\"requiretxt\">\n\n      </textarea>\n    </div>\n    <div class=\"coupons\">优惠券\n      <span class=\"coupon-txt  fr\">\n          暂无优惠券可用\n          <svg>\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n          </svg>\n        </span>\n    </div>\n    <div class=\"agreement\">\n      点击提交订单表示阅读并同意 <span>向导服务合同</span>\n    </div>\n    <div class=\"submit-order clearfix\">\n      <div class=\"total fl\">\n        总额:\n        <span class=\"total-num fr\">\n         ￥{{total}}\n           <svg>\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n          </svg>\n        </span>\n      </div>\n      <div class=\"btn-wrapper fr\">\n        <button class=\"sub-btn\" @click=\"newOrder\">\n          提交订单\n        </button>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\n  import {mapState, mapMutations} from 'vuex'\n  import {userInfo,loadYhj, initOrder, loadOrder, creatOrder} from '../../http/getDate'\n  import {peopleNum} from '../../config/datajs'\n\n  import SwitchOption from  '../../components/switchOption.vue'\n  export default {\n    data() {\n      return {\n        godate: '',\n        accountId: this.$route.query.guideId,\n        playId: this.$route.query.playId,\n        tripsnum: '',\n        packageid: '',//套餐id\n        mpPackList: '',\n        mpPackage: {\n          mpPackageId:'',\n          mpPackagePrice: '',\n          mpPackageName: ''\n        },\n        mpPackagecount: '',\n        istuan: 0,\n        source: 0,\n        tipmount: 1,\n        linkman: '',\n        linkPhone: '',\n        requiretxt: '',\n        yhjId: ''\n      }\n    },\n    components: {\n      SwitchOption\n    },\n    computed: {\n      ...mapState([\n        'basePath','userInfo', 'baseOrder','guideInfo','play','pricePackage'\n      ]),\n      total: function () {\n\n        if(this.mpPackage.mpPackagePrice != '') {\n          this.mpPackage.mpPackagePrice = this.mpPackage.mpPackagePrice\n        } else {\n          this.mpPackage.mpPackagePrice = 0\n        }\n\n        if(this.mpPackagecount != '') {\n          this.mpPackagecount == this.mpPackagecount\n        } else {\n          this.mpPackagecount = 0\n        }\n        console.log('...门票套餐价...门票套餐价')\n        console.log(this.pricePackage.price, this.baseOrder.peopleNum.value, this.mpPackage.mpPackagePrice, this.mpPackagecount);\n        return parseInt(this.pricePackage.price )* parseInt(this.baseOrder.peopleNum.value) + parseInt(this.mpPackage.mpPackagePrice) * parseInt(this.mpPackagecount)\n      }\n    },\n    mounted() {\n      /*获取用户个人信息*/\n      // userInfo().then(res=> {\n      //   console.log('---个人信息返回----')\n      //   console.log(res)\n      //   // this.linkman = res.\n      // })\n      loadYhj(1).then(res => {\n        console.log('-------加载优惠券返回--------');\n        console.log(res)\n\n      })\n      this.mpPicker = this.$createPicker({\n        title: '门票数量',\n        data: [peopleNum],\n        alias: {\n          value: 'num',\n        },\n        onSelect: this.selectCountHandle,\n        onCancel: this.cancelHandle\n      })\n\n\n\n      this.initHeOrder();\n    },\n    methods: {\n      ...mapMutations(['GET_USERINFO']),\n      showmpPackagecount(){\n        this.mpPicker.show();\n      },\n      selectCountHandle(v){\n        this.mpPackagecount = v[0]\n      },\n      initHeOrder() {\n        console.log(this.guide)\n        this.godate = this.baseOrder.travalDate.value;\n        this.tripsnum = this.baseOrder.peopleNum.value\n        this.packageid = this.baseOrder.mealType.id\n\n        initOrder(this.godate, this.accountId, this.playId, this.tripsnum, this.packageid, 0, 0).then(res => {\n          console.log('-------订单初始化返回--------');\n            console.log(res)\n            loadOrder().then(res=> {\n              console.log('---下单前订单加载返回-----')\n              console.log(res);\n              this.mpPackList = res.mpPackelist;\n              this.linkman = res.visitor.nickname;\n              this.linkPhone = res.visitor.mobile;\n              this.GET_USERINFO(res.visitor)\n              let mpdata = [];\n              for(let i=0; i<res.mpPackelist.length; i++) {\n                mpdata[i] = {value: res.mpPackelist[i].id, text: res.mpPackelist[i].name}\n              }\n              this.mpPackgePicker = this.$createPicker({\n                title: '门票套餐',\n                data: [mpdata],\n                onSelect: this.selectmpHandle,\n                onCancel: this.cancelHandle\n              })\n            })\n        })\n      },\n      showmpPackgePicker(){\n        this.mpPackgePicker.show();\n      },\n      selectmpHandle(v, i, t){\n        this.mpPackage.mpPackageId = v[0];\n        this.mpPackage.mpPackagePrice = this.mpPackList[i[0]]['price']\n        this.mpPackage.mpPackageName = t[0];\n      },\n      newOrder() {\n        if(this.mpPackage.mpPackageName == '') {\n          this.$createToast({\n            txt: '请选择门票套餐',\n            type: 'error',\n            mask: true,\n            time: 2000\n          }).show();\n        } else if(this.mpPackagecount == '') {\n          this.$createToast({\n            txt: '请选择门票套餐数量',\n            type: 'error',\n            mask: true,\n            time: 2000\n          }).show();\n        } else if(this.linkman== ''){\n          this.$createToast({\n            txt: '请填写联系人',\n            type: 'error',\n            mask: true,\n            time: 2000\n          }).show();\n        } else if(this.linkPhone == '') {\n          this.$createToast({\n            txt: '请填写联系人手机',\n            type: 'error',\n            mask: true,\n            time: 2000\n          }).show();\n        } else if(this.requiretxt == '') {\n          this.$createToast({\n            txt: '请填写备注',\n            type: 'error',\n            mask: true,\n            time: 2000\n          }).show();\n        } else {\n          // console.log(this.mpPackage.mpPackageId)\n          creatOrder(\n            this.godate,\n            this.accountId,\n            this.playId,\n            this.tripsnum,\n            this.packageid,\n            this.mpPackage.mpPackageId,\n            this.mpPackagecount,\n            this.istuan,\n            this.source,\n            this.tipmount,\n            this.linkman,\n            this.linkPhone,\n            this.requiretxt,\n            this.yhjId\n          ).then(res => {\n            let self = this;\n            console.log(res)\n            console.log('---------新下的订单返回了-----------')\n            if(res.msg) {\n              this.$createDialog({\n                type: 'alert',\n                title: '温馨提示',\n                content: res.msg,\n                showClose: true,\n                onClose: () => {\n                  // self.$router.push({name: 'order',query: {orderNum: 'takeMeOrderNum'}})\n                }\n              }).show()\n\n            } else {\n              // this.$createDialog({\n              //   type: 'alert',\n              //   title: '温馨提示',\n              //   content: '下单成功请及时付款',\n              //   onClose: () => {\n              //\n              //   }\n              // }).show()\n              self.$router.push({name: 'order',query: {orderNum: res.data[1]}})\n            }\n\n          })\n\n        }\n\n\n      },\n\n      endLog() {\n        console.log('.....倒计时结束了.....')\n      },\n      onGroup(msg) {\n        //是否开启团切换\n        msg ? this.istuan = 1 : this.istuan = 0;\n\n      }\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/OrderDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order_detail\"},[_c('header',{staticClass:\"guide-info clearfix\"},[_c('div',{staticClass:\"guide-img fl\"},[_c('img',{attrs:{\"src\":_vm.guideInfo.userImg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('dl',{staticClass:\"guide-detail fl\"},[_c('dt',{staticClass:\"guide-name\"},[_vm._v(_vm._s(_vm.play.username))]),_vm._v(\" \"),_c('dd',{staticClass:\"guide-scenic\"},[_c('span',[_vm._v(_vm._s(_vm.play.scenicspot))]),_c('span',[_vm._v(_vm._s(_vm.play.wfname))])]),_vm._v(\" \"),_c('dd',{staticClass:\"guide-mode\"},[(_vm.play.servicetype == 1)?[_vm._v(\"\\n          景点详解\\n        \")]:(_vm.play.servicetype == 2)?[_vm._v(\"\\n          带游服务\\n        \")]:(_vm.play.servicetype == 3)?[_vm._v(\"\\n          当地游玩\\n        \")]:(_vm.play.servicetype == 4)?[_vm._v(\"\\n          专线类型\\n        \")]:_vm._e(),_vm._v(\" \"),(_vm.play.tytype == 0)?[_vm._v(\"\\n          (平分模式)\\n        \")]:(_vm.play.tytype == 1)?[_vm._v(\"\\n          (固定折扣模式)\\n        \")]:(_vm.play.tytype == 2)?[_vm._v(\"\\n          (剃分模式)\\n        \")]:_vm._e()],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"order-info\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"订单信息\")]),_vm._v(\" \"),_c('ul',{staticClass:\"order-list\"},[_c('li',{staticClass:\"info-item\"},[_vm._v(\"游玩时间 \"),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.baseOrder.travalDate.txt))])]),_vm._v(\" \"),_c('li',{staticClass:\"info-item\"},[_vm._v(\"游玩人数 \"),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.baseOrder.peopleNum.txt))])]),_vm._v(\" \"),_c('li',{staticClass:\"info-item\"},[_vm._v(\"价格套餐 \"),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.pricePackage.name)+\"/\"+_vm._s(_vm.pricePackage.price)+\"元\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"group-trip\"},[_c('switch-option',{attrs:{\"name\":\"开启团游\",\"value\":_vm.istuan == 0 ? false : true},on:{\"update:value\":_vm.onGroup}})],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"tickets\"},[_c('div',{staticClass:\"tickit-m\",on:{\"click\":_vm.showmpPackgePicker}},[_vm._v(\"门票套餐\\n      \"),_c('span',{staticClass:\"tickit-txt fr\"},[_vm._v(\"\\n        \"+_vm._s(_vm.mpPackage.mpPackageName == '' ? '请选择门票套餐' : _vm.mpPackage.mpPackageName)+\"\\n        \"),_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"tickit-n\",on:{\"click\":_vm.showmpPackagecount}},[_vm._v(\"数量\\n      \"),_c('span',{staticClass:\"tickit-txt  fr\"},[_vm._v(\"\\n        \"+_vm._s(_vm.mpPackagecount == '' ? '选择套餐数量' : _vm.mpPackagecount)+\"人\\n        \"),_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])])]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('ul',{staticClass:\"contact\"},[_c('li',{staticClass:\"contact-name\"},[_vm._v(\"\\n      联系人\\n      \"),_c('span',{staticClass:\"contact-txt fr\"},[_vm._v(\"\\n        \"+_vm._s(_vm.linkman)+\"\\n          \"),_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])]),_vm._v(\" \"),_c('li',{staticClass:\"contact-phone\"},[_vm._v(\"\\n      电话\\n      \"),_c('span',{staticClass:\"contact-txt fr\"},[_vm._v(\"\\n        \"+_vm._s(_vm.linkPhone)+\"\\n        \"),_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"note-message\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"备注\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.requiretxt),expression:\"requiretxt\"}],staticClass:\"note-text\",attrs:{\"maxlength\":\"60\",\"placeholder\":\"备注\"},domProps:{\"value\":(_vm.requiretxt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.requiretxt=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"coupons\"},[_vm._v(\"优惠券\\n    \"),_c('span',{staticClass:\"coupon-txt  fr\"},[_vm._v(\"\\n        暂无优惠券可用\\n        \"),_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"submit-order clearfix\"},[_c('div',{staticClass:\"total fl\"},[_vm._v(\"\\n      总额:\\n      \"),_c('span',{staticClass:\"total-num fr\"},[_vm._v(\"\\n       ￥\"+_vm._s(_vm.total)+\"\\n         \"),_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"btn-wrapper fr\"},[_c('button',{staticClass:\"sub-btn\",on:{\"click\":_vm.newOrder}},[_vm._v(\"\\n        提交订单\\n      \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notify group-notify\"},[_c('p',[_vm._v(\"导游优惠模式：固定折扣模式，7，8z折\")]),_vm._v(\" \"),_c('p',[_vm._v(\"注意：团游必须有2个订单才生效，价格由最终团游数决定。而差价会在旅行结束后退到您的个人账户中。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notify tickit-notify\"},[_c('p',[_vm._v(\"导游优惠模式：固定折扣模式，7，8z折\")]),_vm._v(\" \"),_c('p',[_vm._v(\"注意：团游必须有2个订单才生效，价格由最终团游数决定。而差价会在旅行结束后退到您的个人账户中。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"agreement\"},[_vm._v(\"\\n    点击提交订单表示阅读并同意 \"),_c('span',[_vm._v(\"向导服务合同\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-4078b69c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/OrderDetail.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./OrderDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./OrderDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4078b69c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./OrderDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/OrderDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}